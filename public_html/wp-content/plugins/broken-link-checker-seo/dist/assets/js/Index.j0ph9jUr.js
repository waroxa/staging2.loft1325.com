/* empty css             */import{b as ge,u as en,_ as p,s as F,n as ce,o as tn}from"./index.BydC6Aq7.js";import{S as pt,a as nn}from"./Close.B0YUNmaj.js";import{_ as be}from"./Button.BwuPb0al.js";import{c as le,H as mt,v as on,s as sn,j as rn,I as an,e as Ae,u as cn,l as ht,d as vt,f as ln,o as un,i as gt,b as dn,r as fn,U as qe,m as pn,p as mn,a as je,h as Ye,J as hn,n as vn,K as gn,w as E,L as Z,N as ne,O as Se,y as Q,A as bn,x as _n,C as yn,D as wn,P as Sn}from"./Gear.D_T8y5Ek.js";import{_ as M}from"./_plugin-vue_export-helper.BN1snXvA.js";import{o as d,c as m,g as l,r as _,a as g,w,_ as X,j as P,t as h,e as x,n as B,h as O,d as y,l as L,y as Be,m as bt,q as $e,$ as _t,H as kn,D as re,X as yt,a6 as wt,U as Cn,v as Nn,z as T,C as N,O as De,B as $n,u as te,a8 as Tn,a3 as Xr,F as U,b as Kr,A as Gr,i as ae,x as Ee,ae as Ln,Y as St,S as Pn,k as xe,Z as On,f as ie}from"./runtime-dom.esm-bundler.CAa3e5BF.js";import{U as Mn}from"./AnimatedNumber.DfzWUOdI.js";import{S as kt}from"./Close.DS67ExFI.js";import{S as An}from"./Logo.BNRX4Bvy.js";import{u as Bn}from"./LicenseStore.CxXX2QSG.js";import{S as Dn}from"./Caret.DLCb5ieM.js";import{T as ue}from"./Slide.Dpwy0gLH.js";import{S as Ie}from"./Check.vJbCHtwj.js";const En=e=>(e||document.location.search).replace(/(^\?)/,"").split("&").map((function(t){return t=t.split("="),this[t[0]]=t[1],this}).bind({}))[0],xn=(e,t)=>{t=t||document.location.href;const n=t.split("#"),i=n[0].split("?");if(2>i.length)return t;const o=encodeURIComponent(e)+"=",s=i[1].split(/[&;]/g);for(let r=s.length;0<r--;)s[r].lastIndexOf(o,0)!==-1&&s.splice(r,1);const a=n[1]?"#"+n[1]:"",c=i[0]+(0<s.length?"?"+s.join("&"):"")+a;window.history.replaceState(null,null,c)};function Ct(){return{processSaveChanges:()=>{const t=ge();t.loading=!0;let n=!1,i=!1;const o="saveChanges";setTimeout(()=>{n=!0,i&&(t.loading=!1)},1500),en()[o]().then(a=>{a&&a.body.redirection||(n?t.loading=!1:i=!0,window.aioseoBrokenLinkCheckerBus.$emit("changes-saved"))})}}}var Xe=Object.create,In=function(){function e(){}return function(t){if(!le(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function zn(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Rn(e,t,n,i){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],r=void 0;r===void 0&&(r=e[c]),o?mt(n,c,r):on(n,c,r)}return n}function Hn(e,t){return sn(rn(e,t,an),e+"")}function Wn(e,t,n){if(!le(n))return!1;var i=typeof t;return(i=="number"?Ae(n)&&cn(t,n.length):i=="string"&&t in n)?ht(n[t],e):!1}function Fn(e){return Hn(function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,a&&Wn(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var c=n[i];c&&e(t,c,i,s)}return t})}function Un(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Vn=Object.prototype,qn=Vn.hasOwnProperty;function jn(e){if(!le(e))return Un(e);var t=vt(e),n=[];for(var i in e)i=="constructor"&&(t||!qn.call(e,i))||n.push(i);return n}function Nt(e){return Ae(e)?ln(e,!0):jn(e)}var $t=un(Object.getPrototypeOf,Object),Yn="[object Object]",Xn=Function.prototype,Kn=Object.prototype,Tt=Xn.toString,Gn=Kn.hasOwnProperty,Zn=Tt.call(Object);function Jn(e){if(!gt(e)||dn(e)!=Yn)return!1;var t=$t(e);if(t===null)return!0;var n=Gn.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Tt.call(n)==Zn}var Lt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ke=Lt&&typeof module=="object"&&module&&!module.nodeType&&module,Qn=Ke&&Ke.exports===Lt,Ge=Qn?fn.Buffer:void 0;Ge&&Ge.allocUnsafe;function ei(e,t){return e.slice()}function ti(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function ni(e,t){var n=ti(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function ii(e){return typeof e.constructor=="function"&&!vt(e)?In($t(e)):{}}function oi(e){return function(t,n,i){for(var o=-1,s=Object(t),a=i(t),c=a.length;c--;){var r=a[++o];if(n(s[r],r,s)===!1)break}return t}}var si=oi();function Te(e,t,n){(n!==void 0&&!ht(e[t],n)||n===void 0&&!(t in e))&&mt(e,t,n)}function ri(e){return gt(e)&&Ae(e)}function Le(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function ai(e){return Rn(e,Nt(e))}function ci(e,t,n,i,o,s,a){var c=Le(e,n),r=Le(t,n),u=a.get(r);if(u){Te(e,n,u);return}var f=s?s(c,r,n+"",e,t,a):void 0,S=f===void 0;if(S){var v=je(r),b=!v&&pn(r),k=!v&&!b&&mn(r);f=r,v||b||k?je(c)?f=c:ri(c)?f=zn(c):b?(S=!1,f=ei(r)):k?(S=!1,f=ni(r)):f=[]:Jn(r)||Ye(r)?(f=c,Ye(c)?f=ai(c):(!le(c)||hn(c))&&(f=ii(r))):S=!1}S&&(a.set(r,f),o(f,r,i,s,a),a.delete(r)),Te(e,n,f)}function Pt(e,t,n,i,o){e!==t&&si(t,function(s,a){if(o||(o=new vn),le(s))ci(e,t,a,n,Pt,i,o);else{var c=i?i(Le(e,a),s,a+"",e,t,o):void 0;c===void 0&&(c=s),Te(e,a,c)}},Nt)}var li=Fn(function(e,t,n){Pt(e,t,n)});const ui=e=>new URL(e,import.meta.url).href,di="aioseo-broken-link-checker",Ze=()=>{const e=E(),t=document.createElement("a");t.href=e.aioseo.urls.aio.settings,t.classList.add("ab-item");const n=document.createElement("span");return n.innerText=p("Add License Key",di),n.classList.add("aioseo-menu-highlight"),n.classList.add("green"),t.appendChild(n),t},fi=gn("LicenseStore",{state:()=>({license:{expires:0,isActive:!1,isDisabled:!1,isExpired:!1,isInvalid:!1}}),getters:{isUnlicensed:e=>(void 0).toLowerCase()!=="pro"||!e.license.isActive,licenseKey:()=>{const e=E(),t=Z();return e.aioseo.data.isNetworkAdmin?t.networkOptions.general.licenseKey:t.options.general.licenseKey},counts:()=>{var i,o;const e=E(),t=Z();let n=e.aioseo.data.isNetworkAdmin?(i=t.internalNetworkOptions.internal.license)==null?void 0:i.counts:(o=t.internalOptions.internal.license)==null?void 0:o.counts;return n&&typeof n=="string"&&(n=JSON.parse(n)),n},upgradeUrl:()=>{var n,i;const e=E(),t=Z();return e.aioseo.data.isNetworkAdmin?(n=t.internalNetworkOptions.internal.license)==null?void 0:n.upgradeUrl:(i=t.internalOptions.internal.license)==null?void 0:i.upgradeUrl}},actions:{activate(e){const t=ne(),n=E();return Se.post(Q.restUrl("activate")).send({licenseKey:e.trim(),network:n.aioseo.data.isNetworkAdmin}).then(i=>{var a;const o=Z(),s=n.aioseo.data.isNetworkAdmin?"networkOptions":"options";return o.updateOption(s,{groups:["general"],key:"licenseKey",value:e}),t.updateNotifications(i.body.notifications),this.license=i.body.license,i.body.licenseData&&((a=i.body.licenseData)!=null&&a.counts&&typeof i.body.licenseData.counts=="string"&&(i.body.licenseData.counts=JSON.parse(i.body.licenseData.counts)),Object.keys(i.body.licenseData).forEach(c=>{const r=n.aioseo.data.isNetworkAdmin?"internalNetworkOptions":"internalOptions";o.updateOption(r,{groups:["internal","license"],key:c,value:i.body.licenseData[c]})}),n.aioseo.data.isNetworkLicensed=n.aioseo.data.isNetworkAdmin,this.clearLicenseNotices()),i.body.aiOptions&&Object.keys(i.body.aiOptions).forEach(c=>{const r=n.aioseo.data.isNetworkAdmin?"internalNetworkOptions":"internalOptions";o.updateOption(r,{groups:["internal","ai"],key:c,value:i.body.aiOptions[c]})}),i})},multisite(e){const t=ne(),n=E();return Se.post(Q.restUrl("multisite")).send({network:n.aioseo.data.isNetworkAdmin,sites:e}).then(i=>{n.aioseo.data={...n.aioseo.data,network:{...n.aioseo.data.network}},t.updateNotifications(i.body.notifications)})},deactivate(){const e=ne(),t=E();return Se.post(Q.restUrl("deactivate")).send({network:t.aioseo.data.isNetworkAdmin}).then(n=>{var s;const i=Z(),o=t.aioseo.data.isNetworkAdmin?"networkOptions":"options";return i.updateOption(o,{groups:["general"],key:"licenseKey",value:null}),e.updateNotifications(n.body.notifications),n.body.licenseData&&(Object.keys(n.body.licenseData).forEach(a=>{const c=t.aioseo.data.isNetworkAdmin?"internalNetworkOptions":"internalOptions";i.updateOption(c,{groups:["internal","license"],key:a,value:n.body.licenseData[a]})}),this.license=n.body.license,(s=n==null?void 0:n.body)!=null&&s.aiData&&Object.keys(n.body.aiData).forEach(a=>{const c=t.aioseo.data.isNetworkAdmin?"internalNetworkOptions":"internalOptions";i.updateOption(c,{groups:["internal","ai"],key:a,value:n.body.aiData[a]})}),t.aioseo.isUnlicensed=!0,this.addLicenseNotices()),n})},clearLicenseNotices(){const e=document.querySelector(".aioseo-submenu-highlight");e&&e.remove();const t=document.querySelector("#wp-admin-bar-aioseo-pro-license");t&&t.remove()},addLicenseNotices(){this.clearLicenseNotices();const e=document.querySelector("#toplevel_page_aioseo ul.wp-submenu-wrap");if(e){const n=document.createElement("li");n.classList.add("aioseo-submenu-highlight");const i=Ze();n.appendChild(i),e.appendChild(n)}const t=document.querySelector("#wp-admin-bar-aioseo-main-default");if(t){const n=document.createElement("li");n.id="wp-admin-bar-aioseo-pro-license";const i=Ze();n.appendChild(i),t.appendChild(n)}}}}),pi={},mi={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-logo-gear"},hi=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47716 0 0 4.47715 0 10C0 15.5228 4.47716 20 10 20ZM8.40767 3.65998C8.27222 3.45353 8.02129 3.357 7.79121 3.43828C7.52913 3.53087 7.27279 3.63976 7.02373 3.76429C6.80511 3.87361 6.69542 4.12332 6.74355 4.36686L6.91501 5.23457C6.95914 5.45792 6.86801 5.68459 6.69498 5.82859C6.42152 6.05617 6.16906 6.31347 5.94287 6.59826C5.80229 6.77526 5.58046 6.86908 5.36142 6.82484L4.51082 6.653C4.27186 6.60473 4.02744 6.71767 3.92115 6.94133C3.86111 7.06769 3.80444 7.19669 3.75129 7.32826C3.69815 7.45983 3.64929 7.59212 3.60464 7.72495C3.52562 7.96007 3.62107 8.21596 3.82396 8.35351L4.54621 8.84316C4.73219 8.96925 4.82481 9.19531 4.80234 9.42199C4.7662 9.78671 4.76767 10.1508 4.80457 10.5089C4.82791 10.7355 4.73605 10.9619 4.55052 11.0886L3.82966 11.5811C3.62734 11.7193 3.53274 11.9753 3.61239 12.2101C3.70314 12.4775 3.80985 12.7391 3.93188 12.9932C4.03901 13.2163 4.28373 13.3282 4.5224 13.2791L5.37279 13.1042C5.59165 13.0591 5.8138 13.1521 5.95491 13.3287C6.17794 13.6077 6.43009 13.8653 6.70918 14.0961C6.88264 14.2396 6.97459 14.4659 6.93122 14.6894L6.76282 15.5574C6.71551 15.8013 6.8262 16.0507 7.04538 16.1591C7.16921 16.2204 7.29563 16.2782 7.42457 16.3324C7.55352 16.3867 7.68316 16.4365 7.81334 16.4821C8.19418 16.6154 8.72721 16.1383 9.1213 15.7855C9.31563 15.6116 9.4355 15.3654 9.43677 15.1018C9.43677 15.1004 9.43678 15.099 9.43678 15.0976L9.43677 13.6462C9.43677 13.6308 9.43736 13.6155 9.43852 13.6004C8.27454 13.3165 7.40918 12.248 7.40918 10.9732V9.43198C7.40918 9.31483 7.50224 9.21986 7.61706 9.21986H8.338V7.70343C8.338 7.49405 8.50433 7.32432 8.70952 7.32432C8.9147 7.32432 9.08105 7.49405 9.08105 7.70343V9.21986H11.0316V7.70343C11.0316 7.49405 11.1979 7.32432 11.4031 7.32432C11.6083 7.32432 11.7746 7.49405 11.7746 7.70343V9.21986H12.4956C12.6104 9.21986 12.7034 9.31483 12.7034 9.43198V10.9732C12.7034 12.2883 11.7825 13.3838 10.5628 13.625C10.5631 13.632 10.5632 13.6391 10.5632 13.6462L10.5632 15.0914C10.5632 15.36 10.6867 15.6107 10.8868 15.7853C11.2879 16.1351 11.8302 16.6079 12.2088 16.4742C12.4708 16.3816 12.7272 16.2727 12.9762 16.1482C13.1949 16.0389 13.3046 15.7891 13.2564 15.5456L13.085 14.6779C13.0408 14.4545 13.132 14.2278 13.305 14.0838C13.5785 13.8563 13.8309 13.599 14.0571 13.3142C14.1977 13.1372 14.4195 13.0434 14.6385 13.0876L15.4892 13.2595C15.7281 13.3077 15.9725 13.1948 16.0788 12.9711C16.1389 12.8448 16.1955 12.7158 16.2487 12.5842C16.3018 12.4526 16.3507 12.3204 16.3953 12.1875C16.4744 11.9524 16.3789 11.6965 16.176 11.559L15.4537 11.0693C15.2678 10.9432 15.1752 10.7171 15.1976 10.4905C15.2338 10.1258 15.2323 9.76167 15.1954 9.40357C15.1721 9.17699 15.2639 8.95062 15.4495 8.82387L16.1703 8.33141C16.3726 8.1932 16.4672 7.93715 16.3876 7.70238C16.2968 7.43495 16.1901 7.17337 16.0681 6.91924C15.961 6.69615 15.7162 6.58422 15.4776 6.63333L14.6272 6.8083C14.4083 6.85333 14.1862 6.76033 14.0451 6.58377C13.822 6.30474 13.5699 6.04713 13.2908 5.81632C13.1173 5.67287 13.0254 5.44652 13.0688 5.22301L13.2372 4.35503C13.2845 4.11121 13.1738 3.86179 12.9546 3.75334C12.8308 3.69208 12.7043 3.63424 12.5754 3.58002C12.4465 3.52579 12.3168 3.47593 12.1866 3.43037C11.9562 3.34974 11.7055 3.44713 11.5707 3.65416L11.0908 4.39115C10.9672 4.58093 10.7457 4.67543 10.5235 4.65251C10.1661 4.61563 9.80932 4.61712 9.45837 4.65477C9.23633 4.6786 9.01448 4.58486 8.89027 4.39554L8.40767 3.65998Z",fill:"currentColor"},null,-1),vi=[hi];function gi(e,t){return d(),m("svg",mi,vi)}const bi=M(pi,[["render",gi]]),Je="aioseo-broken-link-checker",_i={setup(){return{rootStore:E()}},components:{SvgAioseoLogoGear:bi},data(){return{strings:{boldText:F("<strong>%1$s %2$s</strong>","BLC",this.rootStore.isPro?"Pro":""),linkText:p("Click here to learn more",Je)}}},computed:{link(){return F('<strong><a href="%1$s" target="_blank" class="text-white">%2$s</a></strong>',Q.getDocUrl("restApi"),this.strings.linkText)},upgradeText(){return F(p("%1$s relies on the WordPress Rest API and your site might have it disabled. %2$s.",Je),this.strings.boldText,this.link)}},mounted(){document.body.classList.add("aioseo-has-bar")},beforeUnmount(){document.body.classList.remove("aioseo-has-bar")}},yi={class:"aioseo-api-bar"},wi={class:"upgrade-text"},Si=["innerHTML"];function ki(e,t,n,i,o,s){const a=_("svg-aioseo-logo-gear");return d(),m("div",yi,[l("div",wi,[g(a),l("div",{innerHTML:s.upgradeText},null,8,Si)])])}const Ci=M(_i,[["render",ki]]),Ni={components:{UtilAnimatedNumber:Mn},props:{percentage:Number},data(){return{fromNumber:0,number:0}},watch:{percentage:{deep:!0,handler(e){e!==this.number&&(this.fromNumber=this.number,this.number=e)}}},mounted(){this.number=this.percentage}},$i={class:"aioseo-percent-circle"},Ti={viewBox:"0 0 33.83098862 33.83098862",xmlns:"http://www.w3.org/2000/svg"},Li=l("circle",{class:"aioseo-percent-circle-score__background",stroke:"#BFD6F7","stroke-width":"2",fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,-1),Pi=["stroke-dasharray"],Oi={class:"aioseo-percent-circle-percent"};function Mi(e,t,n,i,o,s){const a=_("util-animated-number");return d(),m("div",$i,[g(X,{name:"fill-percent-circle"},{default:w(()=>[(d(),m("svg",Ti,[Li,l("circle",{class:"aioseo-percent-circle-score__circle",stroke:"#005AE0","stroke-width":"2","stroke-dasharray":`${n.percentage},100`,fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,8,Pi)]))]),_:1}),l("div",Oi,[l("div",null,[g(a,{number:o.number,"from-number":o.fromNumber},null,8,["number","from-number"]),P("% ")])])])}const Ot=M(Ni,[["render",Mi]]),Ai={emits:["close"],components:{CorePercentCircle:Ot,SvgClose:kt},props:{strings:Object,percentage:Number}},Bi={class:"aioseo-processing-popup"},Di=l("br",null,null,-1);function Ei(e,t,n,i,o,s){const a=_("core-percent-circle"),c=_("svg-close");return d(),m("div",Bi,[g(a,{percentage:n.percentage},null,8,["percentage"]),l("div",null,[l("strong",null,h(n.strings.header),1),Di,P(h(n.strings.description),1)]),g(c,{onClick:t[0]||(t[0]=r=>e.$emit("close"))})])}const xi=M(Ai,[["render",Ei]]),Ii={props:{hero:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fullWidth:Boolean,small:Boolean},computed:{classes(){let e=this.fluid?"aioseo-container-fluid ":"aioseo-container ";return e+=this.hero?"aioseo-hero ":"",e+=this.fullWidth?"full-width ":"",e+=this.small?"small ":"",e}}};function zi(e,t,n,i,o,s){return d(),m("div",{class:B(s.classes)},[x(e.$slots,"default")],2)}const Mt=M(Ii,[["render",zi]]),Ri={},Hi={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-notifications"},Wi=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.24167 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5ZM15.8333 15.8333H4.16667V13.3333H7.13333C7.70833 14.325 8.775 15 10.0083 15C11.2417 15 12.3 14.325 12.8833 13.3333H15.8333V15.8333ZM11.675 11.6667H15.8333V4.16667H4.16667V11.6667H8.34167C8.34167 12.5833 9.09167 13.3333 10.0083 13.3333C10.925 13.3333 11.675 12.5833 11.675 11.6667Z",fill:"currentColor"},null,-1),Fi=[Wi];function Ui(e,t){return d(),m("svg",Hi,Fi)}const Vi=M(Ri,[["render",Ui]]),pe="aioseo-broken-link-checker",qi={setup(){return{licenseStore:Bn(),notificationsStore:ce(),scansStore:tn(),rootStore:ge()}},components:{CoreApiBar:Ci,CorePercentCircle:Ot,CoreProcessingPopup:xi,GridContainer:Mt,SvgLogo:An,SvgNotifications:Vi},props:{fullWidth:Boolean,small:Boolean,pageName:String,actions:{type:Boolean,default(){return!0}},upgradeBar:{type:Boolean,default(){return!0}}},data(){return{activeScan:"",strings:{popups:{links:{header:p("Posts are being scanned for links",pe),description:p("Depending on the number of posts being scanned, this process can take some time. You can safely leave this page and check back later.",pe)},linkStatuses:{header:p("Links are being checked for the first time",pe),description:p("Depending on the number of links that need to be checked, this process can take some time. You can safely leave this page and check back later.",pe)}}}}},computed:{percentage(){return this.activeScan?this.scansStore.scans.percentages[this.activeScan]:100},showPopup(){return this.scansStore.scans.show[this.activeScan]&&this.scansStore.scans.percentages[this.activeScan]!==100},popupStrings(){return this.strings.popups[this.activeScan]}},methods:{debounce(e){let t;return(...n)=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...n)})}},storeScroll(){document.documentElement.dataset.scroll=window.scrollY},toggleModal(){document.getElementById("aioseo-help-modal").classList.toggle("visible"),document.body.classList.toggle("modal-open")},checkForActiveScan(){this.rootStore.aioseoBrokenLinkChecker.page!=="links"||this.$route.name!=="broken-links"||(this.scansStore.scans.percentages.links!==100&&(this.activeScan="links",this.scansStore.pollScan("links"),this.togglePopup()),this.scansStore.scans.percentages.linkStatuses!==100&&(this.activeScan="linkStatuses",this.scansStore.pollScan("linkStatuses"),this.togglePopup()))},togglePopup(){this.scansStore.scans.show[this.activeScan]=!this.scansStore.scans.show[this.activeScan]}},mounted(){this.storeScroll(),document.addEventListener("scroll",this.debounce(this.storeScroll),{passive:!0}),this.licenseStore.isUnlicensed?window.aioseoBrokenLinkCheckerBus.$on("checkForActiveScan",()=>{this.checkForActiveScan()}):this.checkForActiveScan()}},ji={class:"aioseo-header"},Yi={class:"aioseo-header-content"},Xi={class:"logo"},Ki={key:0,class:"header-actions"},Gi={key:0,class:"round number"};function Zi(e,t,n,i,o,s){const a=_("core-api-bar"),c=_("svg-logo"),r=_("core-percent-circle"),u=_("core-processing-popup"),f=_("svg-notifications"),S=_("grid-container");return d(),m("div",ji,[i.rootStore.pong?y("",!0):(d(),O(a,{key:0})),g(S,{"full-width":n.fullWidth,small:n.small},{default:w(()=>[l("div",Yi,[l("div",Xi,[g(c)]),n.actions?(d(),m("div",Ki,[g(X,{name:"fade-percent-circle"},{default:w(()=>[o.activeScan&&parseInt(s.percentage)!==100?(d(),O(r,{key:0,percentage:s.percentage,onClick:s.togglePopup},null,8,["percentage","onClick"])):y("",!0)]),_:1}),g(X,{name:"fade-processing-popup"},{default:w(()=>[s.showPopup?(d(),O(u,{key:0,strings:s.popupStrings,percentage:s.percentage,onClose:s.togglePopup},null,8,["strings","percentage","onClose"])):y("",!0)]),_:1}),l("span",{class:"round",onClick:t[0]||(t[0]=L((...v)=>i.notificationsStore.toggleNotifications&&i.notificationsStore.toggleNotifications(...v),["stop"]))},[i.notificationsStore.activeNotificationsCount?(d(),m("span",Gi,h(i.notificationsStore.activeNotificationsCount>9?"!":i.notificationsStore.activeNotificationsCount),1)):y("",!0),g(f,{onClick:L(i.notificationsStore.toggleNotifications,["stop"])},null,8,["onClick"])])])):y("",!0)])]),_:1},8,["full-width","small"])])}const Ji=M(qi,[["render",Zi]]),At={locks:{},zIndex:2e3,enableRipple:!0};Be(At);var Bt=Be(At),Qi=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,io=Object.prototype.propertyIsEnumerable,et=(e,t,n)=>t in e?Qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oo=(e,t)=>{for(var n in t||(t={}))no.call(t,n)&&et(e,n,t[n]);if(Qe)for(var n of Qe(t))io.call(t,n)&&et(e,n,t[n]);return e},so=(e,t)=>eo(e,to(t)),H=e=>typeof e=="string",ro=e=>typeof e=="boolean",ze=e=>typeof e=="number",Dt=e=>ze(e)||H(e)&&/^[-+]?\d+$/.test(e),ao=e=>Object.prototype.toString.call(e)==="[object Object]";var co=e=>typeof e=="function",Et=e=>Array.isArray(e);var lo=e=>e===window,uo=()=>_e()&&"ontouchstart"in window,_e=()=>typeof window<"u";var tt=(e,t)=>{if(e.length){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}};var fo=(...e)=>e.map(t=>{if(Et(t)){const[n,i,o=null]=t;return n?i:o}return t}),po=()=>typeof globalThis<"u"?globalThis:_e()?window:typeof global<"u"?global:self,Pe=e=>{const t=po();return t.requestAnimationFrame?t.requestAnimationFrame(e):t.setTimeout(e)};var mo=()=>new Promise(e=>{Pe(e)}),xt=()=>new Promise(e=>{Pe(()=>{Pe(e)})}),Re=e=>window.getComputedStyle(e),he=e=>{if(lo(e)){const t=e.innerWidth,n=e.innerHeight,i={x:0,y:0,top:0,left:0,right:t,bottom:n,width:t,height:n};return so(oo({},i),{toJSON:()=>i})}return e.getBoundingClientRect()};var ho=e=>{const t="scrollTop"in e?e.scrollTop:e.scrollY;return Math.max(t,0)},vo=e=>{const t="scrollLeft"in e?e.scrollLeft:e.scrollX;return Math.max(t,0)};function J(e,...t){if(Et(e))return e.map(n=>n(...t));if(e)return e(...t)}var It=e=>e==null?0:H(e)?(e=parseFloat(e),e=Number.isNaN(e)?0:e,e):ro(e)?Number(e):e,go=(e,t,n)=>Math.min(n,Math.max(t,e));var bo=e=>_o(e).replace(e.charAt(0),e.charAt(0).toUpperCase()),_o=e=>e.replace(/-(\w)/g,(t,n)=>n.toUpperCase());function yo(e){return t=>{const n=`${e}-${t}`,i=o=>o?o[0]==="$"?o.replace("$",e):o.startsWith("--")?`${n}${o}`:`${n}__${o}`:n;return{name:bo(n),n:i,classes:fo}}}var wo=Object.defineProperty,ve=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,nt=(e,t,n)=>t in e?wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,So=(e,t)=>{for(var n in t||(t={}))zt.call(t,n)&&nt(e,n,t[n]);if(ve)for(var n of ve(t))Rt.call(t,n)&&nt(e,n,t[n]);return e},ko=(e,t)=>{var n={};for(var i in e)zt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&ve)for(var i of ve(e))t.indexOf(i)<0&&Rt.call(e,i)&&(n[i]=e[i]);return n};function Ht(e){let t=!1;bt(()=>{e(),$e(()=>{t=!0})}),_t(()=>{t&&e()})}function Oe(e,t,n,i={}){if(!_e())return;const{passive:o=!1,capture:s=!1}=i;let a=!1,c=!1;const r=b=>co(b)?b():te(b),u=b=>{if(a||c)return;const k=r(b);k&&(k.addEventListener(t,n,{passive:o,capture:s}),a=!0)},f=b=>{if(!a||c)return;const k=r(b);k&&(k.removeEventListener(t,n,{capture:s}),a=!1)};let S;kn(e)&&(S=re(()=>e.value,(b,k)=>{f(k),u(b)}));const v=()=>{S==null||S(),f(e),c=!0};return Ht(()=>{u(e)}),yt(()=>{f(e)}),wt(()=>{f(e)}),v}function Co(e){Cn(()=>{e()}),wt(()=>{e()})}function No(e){const t=De();return e in t.provides}function $o(e){if(!No(e))return{index:null,parentProvider:null,bindParent:null};const n=Nn(e),{childInstances:i,collect:o,clear:s}=n,a=ko(n,["childInstances","collect","clear"]),c=De();return{index:T(()=>i.indexOf(c)),parentProvider:a,bindParent:f=>{bt(()=>{$e().then(()=>{o(c,f)})}),yt(()=>{$e().then(()=>{s(c,f)})})}}}function To(e){const t=[],n=i=>{if(i!=null&&i.component){n(i==null?void 0:i.component.subTree);return}Array.isArray(i==null?void 0:i.children)&&i.children.forEach(o=>{Tn(o)&&(t.push(o),n(o))})};return n(e),t}function Lo(e){const t=De(),n=Be([]),i=[],o=T(()=>n.length),s=()=>{const u=To(t.subTree);n.sort((f,S)=>u.indexOf(f.vnode)-u.indexOf(S.vnode))},a=(u,f)=>{n.push(u),i.push(f),s()},c=(u,f)=>{tt(n,u),tt(i,f)};return{length:o,childProviders:i,bindChildren:u=>{$n(e,So({childInstances:n,collect:a,clear:c},u))}}}function Wt(e){Oe(()=>window,"resize",e,{passive:!0}),Oe(()=>window,"orientationchange",e,{passive:!0})}var Po=Object.defineProperty,Oo=Object.defineProperties,Mo=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,Bo=Object.prototype.propertyIsEnumerable,ot=(e,t,n)=>t in e?Po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Do=(e,t)=>{for(var n in t||(t={}))Ao.call(t,n)&&ot(e,n,t[n]);if(it)for(var n of it(t))Bo.call(t,n)&&ot(e,n,t[n]);return e},Eo=(e,t)=>Oo(e,Mo(t));function ke(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=e[i],n),{}):e[t]}function He(e,t){const n=t??e;return n.install=function(i){const{name:o}=e;o&&i.component(o,e)},n}function We(e,t){e.setPropsDefaults=function(n){Object.entries(n).forEach(([i,o])=>{const s=t[i];if(s!=null){if(ao(s)){t[i]=Eo(Do({},s),{default:o});return}t[i]={type:s,default:o}}})}}const ye=yo("var");function oe(e){return{type:[Function,Array],default:e}}function xo(e,t){return e===!1?null:(e===!0&&t&&(e=t),`var-elevation--${e}`)}var Io=Object.defineProperty,zo=Object.defineProperties,Ro=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,rt=(e,t,n)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ft=(e,t)=>{for(var n in t||(t={}))Ho.call(t,n)&&rt(e,n,t[n]);if(st)for(var n of st(t))Wo.call(t,n)&&rt(e,n,t[n]);return e},Fo=(e,t)=>zo(e,Ro(t));const{n:Ut}=ye("ripple"),at=250;function Uo(e){const{zIndex:t,position:n}=Re(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",n==="static"&&(e.style.position="relative"),t==="auto"&&(e.style.zIndex="1")}function Vo(e,t){const{top:n,left:i}=he(e),{clientWidth:o,clientHeight:s}=e,a=Math.sqrt(o**2+s**2)/2,c=a*2,r=t.touches[0].clientX-i,u=t.touches[0].clientY-n,f=(o-a*2)/2,S=(s-a*2)/2,v=r-a,b=u-a;return{x:v,y:b,centerX:f,centerY:S,size:c}}function Vt(e){const t=this._ripple;if(t.removeRipple(),t.disabled||t.tasker||!Bt.enableRipple)return;const n=()=>{t.tasker=null;const{x:i,y:o,centerX:s,centerY:a,size:c}=Vo(this,e),r=document.createElement("div");r.classList.add(Ut()),r.style.opacity="0",r.style.transform=`translate(${i}px, ${o}px) scale3d(.3, .3, .3)`,r.style.width=`${c}px`,r.style.height=`${c}px`,t.color&&(r.style.backgroundColor=t.color),r.dataset.createdAt=String(performance.now()),Uo(this),this.appendChild(r),window.setTimeout(()=>{r.style.transform=`translate(${s}px, ${a}px) scale3d(1, 1, 1)`,r.style.opacity=".25"},20)};t.tasker=window.setTimeout(n,30)}function Me(){const e=this._ripple,t=()=>{const n=this.querySelectorAll(`.${Ut()}`);if(!n.length)return;const i=n[n.length-1],o=at-performance.now()+Number(i.dataset.createdAt);window.setTimeout(()=>{i.style.opacity="0",window.setTimeout(()=>{var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)},at)},o)};e.tasker?window.setTimeout(t,30):t()}function qt(){if(!uo()||!Bt.enableRipple)return;const e=this._ripple;e.tasker&&window.clearTimeout(e.tasker),e.tasker=null}function qo(e,t){var n;e._ripple=Fo(Ft({tasker:null},(n=t.value)!=null?n:{}),{removeRipple:Me.bind(e)}),e.addEventListener("touchstart",Vt,{passive:!0}),e.addEventListener("touchmove",qt,{passive:!0}),e.addEventListener("dragstart",Me,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0}),document.addEventListener("dragend",e._ripple.removeRipple,{passive:!0})}function jo(e){e.removeEventListener("touchstart",Vt),e.removeEventListener("touchmove",qt),e.removeEventListener("dragstart",Me),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple),document.removeEventListener("dragend",e._ripple.removeRipple)}function Yo(e,t){var n,i,o,s,a,c;const r={color:(n=t.value)==null?void 0:n.color,disabled:(i=t.value)==null?void 0:i.disabled};(r.color!==((o=e._ripple)==null?void 0:o.color)||r.disabled!==((s=e._ripple)==null?void 0:s.disabled))&&(e._ripple=Ft({tasker:r.disabled?null:(a=e._ripple)==null?void 0:a.tasker,removeRipple:(c=e._ripple)==null?void 0:c.removeRipple},r))}const Xo={mounted:qo,unmounted:jo,updated:Yo,install(e){e.directive("ripple",this)}};var Ko=Xo;function Go(e,t){throw Error(`Varlet [${e}]: ${t}`)}function Zo(e){let t=e;for(;t&&!(!t.parentNode||(t=t.parentNode,t===document.body||t===document.documentElement));){const n=/(scroll|auto)/,{overflowY:i,overflow:o}=Re(t);if(n.test(i)||n.test(o))return t}return window}function Jo(){const{width:e,height:t}=he(window);return{vw:e,vh:t,vMin:Math.min(e,t),vMax:Math.max(e,t)}}const Qo=e=>H(e)&&e.endsWith("rem"),es=e=>H(e)&&e.endsWith("px")||ze(e),ts=e=>H(e)&&e.endsWith("vw"),ns=e=>H(e)&&e.endsWith("vh"),is=e=>H(e)&&e.endsWith("vmin"),os=e=>H(e)&&e.endsWith("vmax"),ss=e=>{if(Dt(e))return Number(e);if(es(e))return+e.replace("px","");if(!_e())return 0;const{vw:t,vh:n,vMin:i,vMax:o}=Jo();if(ts(e))return+e.replace("vw","")*t/100;if(ns(e))return+e.replace("vh","")*n/100;if(is(e))return+e.replace("vmin","")*i/100;if(os(e))return+e.replace("vmax","")*o/100;if(Qo(e)){const s=+e.replace("rem",""),a=Re(document.documentElement).fontSize;return s*parseFloat(a)}return H(e)?It(e):0},rs=e=>{if(e!=null)return Dt(e)?`${e}px`:String(e)};function ct(e,{top:t=0,left:n=0,duration:i=300,animation:o}){const s=Date.now(),a=ho(e),c=vo(e);return new Promise(r=>{const u=()=>{const f=(Date.now()-s)/i;if(f<1){const S=a+(t-a)*o(f),v=c+(n-c)*o(f);e.scrollTo(v,S),requestAnimationFrame(u)}else e.scrollTo(n,t),r()};requestAnimationFrame(u)})}const lt=e=>e;const se={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:Boolean,disabled:Boolean,onScroll:oe()};var ut=(e,t,n)=>new Promise((i,o)=>{var s=r=>{try{c(n.next(r))}catch(u){o(u)}},a=r=>{try{c(n.throw(r))}catch(u){o(u)}},c=r=>r.done?i(r.value):Promise.resolve(r.value).then(s,a);c((n=n.apply(e,t)).next())});const{name:as,n:cs,classes:ls}=ye("sticky");function us(e,t){return d(),m("div",{class:B(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:ae({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[l("div",{class:B(e.n("wrapper")),ref:"wrapperEl",style:ae({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[x(e.$slots,"default")],6)],6)}const jt=Ee({name:as,props:se,setup(e){const t=N(null),n=N(null),i=N(!1),o=N("0px"),s=N("0px"),a=N("auto"),c=N("auto"),r=N("auto"),u=N("auto"),f=T(()=>!e.disabled&&e.cssMode),S=T(()=>!e.disabled&&!e.cssMode&&i.value),v=T(()=>ss(e.offsetTop));let b;re(()=>e.disabled,V),Ht(()=>ut(this,null,function*(){yield xt(),K(),D()})),Co(de),Wt(V),Oe(()=>window,"scroll",D);function k(){const{cssMode:I,disabled:G}=e;if(G)return;let q=0;if(b!==window){const{top:C}=he(b);q=C}const j=n.value,Y=t.value,{top:we,left:W}=he(Y),fe=we-q;return fe<=v.value?(I||(a.value=`${Y.offsetWidth}px`,c.value=`${Y.offsetHeight}px`,o.value=`${q+v.value}px`,s.value=`${W}px`,r.value=`${j.offsetWidth}px`,u.value=`${j.offsetHeight}px`,i.value=!0),{offsetTop:v.value,isFixed:!0}):(i.value=!1,{offsetTop:fe,isFixed:!1})}function K(){b=Zo(t.value),b!==window&&b.addEventListener("scroll",D)}function D(){const I=k();I&&J(e.onScroll,I.offsetTop,I.isFixed)}function de(){!b||b===window||b.removeEventListener("scroll",D)}function V(){return ut(this,null,function*(){i.value=!1,yield mo(),k()})}return{stickyEl:t,wrapperEl:n,isFixed:i,offsetTop:v,fixedTop:o,fixedLeft:s,fixedWidth:a,fixedHeight:c,fixedWrapperWidth:r,fixedWrapperHeight:u,enableCSSMode:f,enableFixedMode:S,n:cs,classes:ls,resize:V,toNumber:It}}});jt.render=us;var Fe=jt;He(Fe);We(Fe,se);var ds=Fe;const Yt={name:[String,Number],disabled:Boolean,ripple:{type:Boolean,default:!0},onClick:oe()},Xt=Symbol("TABS_BIND_TAB_KEY");function fs(){const{childProviders:e,bindChildren:t,length:n}=Lo(Xt);return{length:n,tabList:e,bindTabList:t}}function ps(){const{parentProvider:e,bindParent:t,index:n}=$o(Xt);return t||Go("Tab","<var-tab/> must in <var-tabs/>"),{index:n,tabs:e,bindTabs:t}}const{name:ms,n:me,classes:hs}=ye("tab");function vs(e,t){const n=Ln("ripple");return St((d(),m("div",{class:B(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n(`--${e.itemDirection}`))),ref:"tabEl",style:ae({color:e.computeColorStyle()}),onClick:t[0]||(t[0]=(...i)=>e.handleClick&&e.handleClick(...i))},[x(e.$slots,"default")],6)),[[n,{disabled:e.disabled||!e.ripple}]])}const Kt=Ee({name:ms,directives:{Ripple:Ko},props:Yt,setup(e){const t=N(null),n=T(()=>t.value),i=T(()=>e.name),o=T(()=>e.disabled),{index:s,tabs:a,bindTabs:c}=ps(),{onTabClick:r,active:u,activeColor:f,inactiveColor:S,disabledColor:v,itemDirection:b,resize:k}=a,K={name:i,index:s,disabled:o,element:n};c(K),re(()=>[e.name,e.disabled],k);function D(){return e.name!=null?u.value===e.name:u.value===(s==null?void 0:s.value)}function de(){return e.disabled?v.value:D()?f.value:S.value}function V(){return e.disabled?me("$-tab--disabled"):D()?me("$-tab--active"):me("$-tab--inactive")}function I(G){const{disabled:q,name:j,onClick:Y}=e;q||(J(Y,j??s.value,G),r(K))}return{tabEl:t,active:u,activeColor:f,inactiveColor:S,itemDirection:b,n:me,classes:hs,computeColorStyle:de,computeColorClass:V,handleClick:I}}});Kt.render=vs;var Ue=Kt;He(Ue);We(Ue,Yt);var gs=Ue;const Gt={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal"},itemDirection:{type:String,default:"horizontal"},fixedBottom:Boolean,activeColor:String,inactiveColor:String,disabledColor:String,color:String,indicatorColor:String,indicatorSize:[String,Number],elevation:{type:[Boolean,String,Number],default:!1},scrollable:{type:String,default:"auto"},indicatorPosition:{type:String,default:"normal"},safeArea:Boolean,sticky:Boolean,stickyCssMode:ke(se,"cssMode"),stickyZIndex:ke(se,"zIndex"),offsetTop:ke(se,"offsetTop"),onClick:oe(),onChange:oe(),"onUpdate:active":oe()};var dt=(e,t,n)=>new Promise((i,o)=>{var s=r=>{try{c(n.next(r))}catch(u){o(u)}},a=r=>{try{c(n.throw(r))}catch(u){o(u)}},c=r=>r.done?i(r.value):Promise.resolve(r.value).then(s,a);c((n=n.apply(e,t)).next())});const{name:bs,n:_s,classes:ys}=ye("tabs");function ws(e,t){return d(),O(xe(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:w(()=>[l("div",Pn({class:e.classes(e.n(),e.n("$--box"),e.n(`--item-${e.itemDirection}`),e.n(`--layout-${e.layoutDirection}-padding`),e.formatElevation(e.elevation,4),[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[l("div",{ref:"scrollerEl",class:B(e.classes(e.n("tab-wrap"),[e.localScrollable,e.n(`--layout-${e.layoutDirection}-scrollable`)],e.n(`--layout-${e.layoutDirection}`)))},[x(e.$slots,"default"),l("div",{class:B(e.classes(e.n("indicator"),e.n(`--layout-${e.layoutDirection}${e.indicatorPosition}-indicator`))),style:ae({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?`translateX(${e.indicatorX})`:`translateY(${e.indicatorY})`})},[l("div",{class:B(e.classes(e.n("indicator-inner"),e.n(`--layout-${e.layoutDirection}-indicator-inner`))),style:ae({background:e.indicatorColor||e.activeColor})},null,6)],6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}const Zt=Ee({name:bs,components:{VarSticky:ds},inheritAttrs:!1,props:Gt,setup(e){const t=N("0px"),n=N("0px"),i=N("0px"),o=N("0px"),s=N(!1),a=N(null),c=T(()=>e.active),r=T(()=>e.activeColor),u=T(()=>e.inactiveColor),f=T(()=>e.disabledColor),S=T(()=>e.itemDirection),v=N(null),b=T(()=>e.indicatorPosition==="reverse"?"-reverse":""),{tabList:k,bindTabList:K,length:D}=fs();K({active:c,activeColor:r,inactiveColor:u,disabledColor:f,itemDirection:S,resize:W,onTabClick:V}),re(()=>D.value,()=>dt(this,null,function*(){yield xt(),W()})),re(()=>[e.active,e.scrollable],W),_t(W),Wt(W);function V(C){var $;const z=($=C.name.value)!=null?$:C.index.value,{active:ee,onChange:Jt,onClick:Qt}=e;J(e["onUpdate:active"],z),J(Qt,z),z!==ee&&J(Jt,z)}function I(){return k.find(({name:C})=>e.active===C.value)}function G(C){return k.find(({index:$})=>(C??e.active)===$.value)}function q(){if(D.value===0)return;const{active:C}=e;if(ze(C)){const $=go(C,0,D.value-1);return J(e["onUpdate:active"],$),G($)}}function j(){s.value=e.scrollable==="always"||k.length>=5}function Y({element:C}){const $=C.value;$&&(e.layoutDirection==="horizontal"?(t.value=`${$.offsetWidth}px`,i.value=`${$.offsetLeft}px`):(n.value=`${$.offsetHeight}px`,o.value=`${$.offsetTop}px`))}function we({element:C}){if(!s.value)return;const $=a.value,z=C.value;if(e.layoutDirection==="horizontal"){const ee=z.offsetLeft+z.offsetWidth/2-$.offsetWidth/2;ct($,{left:ee,animation:lt})}else{const ee=z.offsetTop+z.offsetHeight/2-$.offsetHeight/2;ct($,{top:ee,animation:lt})}}function W(){const C=I()||G()||q();!C||C.disabled.value||(j(),Y(C),we(C))}function fe(){return dt(this,null,function*(){e.sticky&&v.value&&(yield v.value.resize())})}return{stickyComponent:v,indicatorWidth:t,indicatorHeight:n,indicatorX:i,indicatorY:o,indicatorPosition:b,localScrollable:s,scrollerEl:a,Transition:X,toSizeUnit:rs,n:_s,classes:ys,resize:W,resizeSticky:fe,formatElevation:xo}}});Zt.render=ws;var Ve=Zt;He(Ve);We(Ve,Gt);var Ss=Ve;const ks="aioseo-broken-link-checker",Cs={emits:["changed"],setup(){const{processSaveChanges:e}=Ct();return{rootStore:ge(),processSaveChanges:e}},components:{BaseButton:be,SvgCaret:Dn,TransitionSlide:ue,VarTab:gs,VarTabs:Ss},props:{tabs:{type:Array,required:!0},skinnyTabs:Boolean,active:String,showSaveButton:{type:Boolean,default(){return!0}},internal:Boolean,disableMobile:Boolean},data(){return{buttonLoading:!1,showMobileMenu:!0,calculateWidth:!1,showMobileTabs:!1,strings:{saveChanges:p("Save Changes",ks)}}},computed:{activeTab(){var e,t;return this.active?this.active:(e=this.$route)!=null&&e.name?this.$route.name:(t=this.tabs[0])==null?void 0:t.slug},filteredTabs(){return this.tabs.filter(e=>{var t;return e.slug!==(this.active?this.active:(t=this.$route)!=null&&t.name?this.$route.name:"")})}},methods:{maybeChangeTab(e){if(this.active){this.$emit("changed",e);return}const t=this.tabs.find(n=>n.slug===e);t&&this.$router.push(t.url)},getActiveTabName(){const e=this.tabs.find(t=>{var n;return t.slug===(this.active?this.active:(n=this.$route)!=null&&n.name?this.$route.name:"")});return e?e.name:""},maybeShowMobileMenu(){if(window.matchMedia("(max-width: 782px)").matches&&!this.disableMobile){this.showMobileMenu=!0;return}let e=0;this.calculateWidth=!0,this.$nextTick(()=>{e=this.$refs["tabs-scroller"].offsetWidth,this.calculateWidth=!1;let t=0;const n=this.$refs["tabs-button"];if(n){const i=n.querySelector(".aioseo-button");t=i?i.scrollWidth:0}if(e+t>this.$refs["aioseo-tabs"].offsetWidth){this.showMobileMenu=!0;return}this.showMobileMenu=!1})},createRipple(e){const t=e.currentTarget,n=document.createElement("span"),i=Math.max(t.clientWidth,t.clientHeight),o=i/2,s=t.getBoundingClientRect();n.style.width=n.style.height=`${i}px`,n.style.left=`${e.clientX-(s.left+o)}px`,n.style.top=`${e.clientY-(s.top+o)}px`,n.classList.add("ripple");const a=t.getElementsByClassName("ripple")[0];a&&a.remove(),t.appendChild(n)}},beforeMount(){window.addEventListener("resize",this.maybeShowMobileMenu)},async mounted(){this.$nextTick(()=>{this.maybeShowMobileMenu();const e=this.$refs["aioseo-tabs"],t=e.querySelector(".var-tab--active"),n=e.querySelector(".var-tabs__indicator");if(!t||!n)return;setTimeout(()=>{n.style.width==="0px"&&(n.style.width=`${t.offsetWidth}px`,n.style.transform=`translateX(${t.offsetLeft}px)`)},300),new MutationObserver(()=>{n.style.width==="0px"&&(n.style.width=`${t.offsetWidth}px`,n.style.transform=`translateX(${t.offsetLeft}px)`)}).observe(n,{attributes:!0});const o=e.querySelectorAll(".var-tab");o.length&&o.forEach(s=>{s.addEventListener("click",this.createRipple)})})},beforeUnmount(){window.removeEventListener("resize",this.maybeShowMobileMenu)}},Ns={class:"tabs-scroller",ref:"tabs-scroller"},$s={class:"label"},Ts={key:0,class:"aioseo-mobile-tabs"},Ls=l("span",{class:"tab-indicator"},null,-1),Ps={class:"tab-links"},Os=["onClick"],Ms={key:1,class:"button-right",ref:"tabs-button"},As={class:"tabs-extra"};function Bs(e,t,n,i,o,s){const a=_("var-tab"),c=_("var-tabs"),r=_("svg-caret"),u=_("router-link"),f=_("transition-slide"),S=_("base-button");return d(),m("div",{class:B(["aioseo-tabs",{internal:n.internal,skinny:n.skinnyTabs}]),ref:"aioseo-tabs"},[St(l("div",Ns,[g(c,{active:s.activeTab,onClick:s.maybeChangeTab,ref:"var-tabs"},{default:w(()=>[(d(!0),m(U,null,ie(n.tabs,(v,b)=>(d(),O(a,{name:v.slug,key:b},{default:w(()=>[x(e.$slots,"var-tab",{tab:v},()=>[x(e.$slots,"var-tab-icon",{tab:v}),l("span",$s,h(v.name),1)])]),_:2},1032,["name"]))),128))]),_:3},8,["active","onClick"])],512),[[On,!o.showMobileMenu||o.calculateWidth]]),o.showMobileMenu?(d(),m("div",Ts,[l("div",{class:"active-tab",onClick:t[1]||(t[1]=v=>o.showMobileTabs=!o.showMobileTabs)},[l("div",null,[P(h(s.getActiveTabName())+" ",1),g(r,{onClick:t[0]||(t[0]=L(v=>o.showMobileTabs=!o.showMobileTabs,["stop"])),class:B({rotated:!o.showMobileTabs})},null,8,["class"]),Ls])]),g(f,{active:o.showMobileTabs,class:"tab-dropdown"},{default:w(()=>[l("div",Ps,[n.active?y("",!0):(d(!0),m(U,{key:0},ie(s.filteredTabs,(v,b)=>(d(),O(u,{key:b,to:v.url,onClick:t[2]||(t[2]=k=>o.showMobileTabs=!1)},{default:w(()=>[P(h(v.name),1)]),_:2},1032,["to"]))),128)),n.active?(d(!0),m(U,{key:1},ie(s.filteredTabs,(v,b)=>(d(),m("a",{href:"#",key:b,onClick:L(k=>e.$emit("changed",v.slug)&&(o.showMobileTabs=!1),["prevent"])},h(v.name),9,Os))),128)):y("",!0)])]),_:1},8,["active"])])):y("",!0),n.showSaveButton?(d(),m("div",Ms,[x(e.$slots,"button",{},()=>[g(S,{type:"blue",size:"medium",loading:i.rootStore.loading,onClick:i.processSaveChanges},{default:w(()=>[P(h(o.strings.saveChanges),1)]),_:1},8,["loading","onClick"])])],512)):y("",!0),l("div",As,[x(e.$slots,"extra")])],2)}const Ds=M(Cs,[["render",Bs]]),Ce="aioseo-broken-link-checker",Es=()=>{const e={notifications:p("Notifications",Ce),newNotifications:p("New Notifications",Ce),activeNotifications:p("Active Notifications",Ce)},t=N(!1),n=ce(),i=T(()=>t.value?n.dismissedNotificationsCount:n.activeNotificationsCount),o=T(()=>t.value?n.dismissedNotifications:n.activeNotifications),s=T(()=>t.value?e.notifications:e.newNotifications);return{dismissed:t,notificationTitle:s,notifications:o,notificationsCount:i,strings:e}},xs=""+window.__aioseoDynamicImportPreload__("images/dannie-detective.C0gjJQEP.png"),Is="aioseo-broken-link-checker",zs={emits:["dismissed-notification"],setup(){const{button1Loading:e,button2Loading:t,getHref:n,getTagType:i,getTarget:o,processButtonClick:s}=bn();return{button1Loading:e,button2Loading:t,getHref:n,getTagType:i,getTarget:o,notificationsStore:ne(),processButtonClick:s,sanitizeString:_n}},components:{BaseButton:be,SvgCircleCheck:Ie,SvgCircleClose:pt,SvgCircleExclamation:yn,SvgGear:wn,TransitionSlide:ue},props:{notification:{type:Object,required:!0}},data(){return{active:!0,strings:{dismiss:p("Dismiss",Is)}}},computed:{getIcon(){switch(this.notification.type){case"warning":return"svg-circle-exclamation";case"error":return"svg-circle-close";case"info":return"svg-gear";case"success":default:return"svg-circle-check"}},getDate(){return Sn(this.notification.start)}},methods:{processDismissNotification(){this.active=!1,this.notificationsStore.dismissNotifications([this.notification.slug]),this.$emit("dismissed-notification")},getButtonType(e){switch(this.notification.notification_name){case"search-console-site-not-connected":case"search-console-site-not-verified":case"email-reports-enable-reminder":return e===1?"blue":"gray";default:return"gray"}}}},Rs={class:"icon"},Hs={class:"body"},Ws={class:"title"},Fs={class:"date"},Us=["innerHTML"],Vs={class:"actions"};function qs(e,t,n,i,o,s){const a=_("base-button"),c=_("transition-slide");return d(),O(c,{class:B(["aioseo-notification",[`aioseo-notification-${n.notification.notification_name}`]]),active:o.active},{default:w(()=>[l("div",null,[l("div",Rs,[(d(),O(xe(s.getIcon),{class:B(n.notification.type)},null,8,["class"]))]),l("div",Hs,[l("div",Ws,[l("div",null,h(i.sanitizeString(n.notification.title)),1),l("div",Fs,h(s.getDate),1)]),l("div",{class:"notification-content",innerHTML:n.notification.content},null,8,Us),l("div",Vs,[n.notification.button1_label&&n.notification.button1_action?(d(),O(a,{key:0,size:"small",type:s.getButtonType(1),class:"aioseo-button1",tag:i.getTagType(n.notification.button1_action),href:i.getHref(n.notification.button1_action),target:i.getTarget(n.notification.button1_action),onClick:t[0]||(t[0]=r=>i.processButtonClick(n.notification.button1_action,1)),loading:i.button1Loading},{default:w(()=>[P(h(n.notification.button1_label),1)]),_:1},8,["type","tag","href","target","loading"])):y("",!0),n.notification.button2_label&&n.notification.button2_action?(d(),O(a,{key:1,size:"small",type:s.getButtonType(2),class:"aioseo-button2",tag:i.getTagType(n.notification.button2_action),href:i.getHref(n.notification.button2_action),target:i.getTarget(n.notification.button2_action),onClick:t[1]||(t[1]=r=>i.processButtonClick(n.notification.button2_action,2)),loading:i.button2Loading},{default:w(()=>[P(h(n.notification.button2_label),1)]),_:1},8,["type","tag","href","target","loading"])):y("",!0),n.notification.dismissed?y("",!0):(d(),m("a",{key:2,href:"#",class:"dismiss",onClick:t[2]||(t[2]=L((...r)=>s.processDismissNotification&&s.processDismissNotification(...r),["stop","prevent"]))},h(o.strings.dismiss),1))])])])]),_:1},8,["class","active"])}const js=M(zs,[["render",qs]]),A="aioseo-broken-link-checker",Ys={emits:["dismissed-notification"],setup(){return{licenseStore:fi(),notificationsStore:ne(),optionsStore:Z(),rootStore:E()}},components:{SvgCircleCheck:Ie,TransitionSlide:ue},props:{notification:{type:Object,required:!0}},data(){return{step:1,active:!0,strings:{dismiss:p("Dismiss",A),yesILoveIt:p("Yes, I love it!",A),notReally:p("Not Really...",A),okYouDeserveIt:p("Ok, you deserve it",A),nopeMaybeLater:p("Nope, maybe later",A),giveFeedback:p("Give feedback",A),noThanks:p("No thanks",A)}}},computed:{title(){switch(this.step){case 2:return p("That's Awesome!",A);case 3:return p("Help us improve",A);default:return F(p("Are you enjoying %1$s?",A),"BLC")}},content(){switch(this.step){case 2:return p("Could you please do us a BIG favor and give it a 5-star rating on WordPress to help us spread the word and boost our motivation?",A);case 3:return F(p("We're sorry to hear you aren't enjoying %1$s. We would love a chance to improve. Could you take a minute and let us know what we can do better?",A),"Broken Link Checker");default:return""}},feedbackUrl(){const e=this.optionsStore.options.general&&this.licenseStore.licenseKey?this.licenseStore.licenseKey:"",t=this.rootStore.isPro?"pro":"lite";return Q.utmUrl("notification-review-notice",this.rootStore.aioseo.version,"https://aioseo.com/plugin-feedback/?wpf7528_24="+encodeURIComponent(this.rootStore.aioseo.urls.home)+"&wpf7528_26="+e+"&wpf7528_27="+t+"&wpf7528_28="+this.rootStore.aioseo.version)}},methods:{processDismissNotification(e=!1){this.active=!1,this.notificationsStore.dismissNotifications([this.notification.slug+(e?"-delay":"")]),this.$emit("dismissed-notification")}}},Xs={class:"icon"},Ks={class:"body"},Gs={class:"title"},Zs=["innerHTML"],Js={class:"actions"};function Qs(e,t,n,i,o,s){const a=_("svg-circle-check"),c=_("base-button"),r=_("transition-slide");return d(),O(r,{class:"aioseo-notification",active:o.active},{default:w(()=>[l("div",null,[l("div",Xs,[g(a,{class:"success"})]),l("div",Ks,[l("div",Gs,[l("div",null,h(s.title),1)]),l("div",{class:"notification-content",innerHTML:s.content},null,8,Zs),l("div",Js,[o.step===1?(d(),m(U,{key:0},[g(c,{size:"small",type:"blue",onClick:t[0]||(t[0]=L(u=>o.step=2,["stop"]))},{default:w(()=>[P(h(o.strings.yesILoveIt),1)]),_:1}),g(c,{size:"small",type:"gray",onClick:t[1]||(t[1]=L(u=>o.step=3,["stop"]))},{default:w(()=>[P(h(o.strings.notReally),1)]),_:1})],64)):y("",!0),o.step===2?(d(),m(U,{key:1},[g(c,{tag:"a",href:"https://wordpress.org/support/plugin/all-in-one-seo-pack/reviews/?filter=5#new-post",size:"small",type:"blue",target:"_blank",rel:"noopener noreferrer",onClick:t[2]||(t[2]=u=>s.processDismissNotification(!1))},{default:w(()=>[P(h(o.strings.okYouDeserveIt),1)]),_:1}),g(c,{size:"small",type:"gray",onClick:t[3]||(t[3]=L(u=>s.processDismissNotification(!0),["stop","prevent"]))},{default:w(()=>[P(h(o.strings.nopeMaybeLater),1)]),_:1})],64)):y("",!0),o.step===3?(d(),m(U,{key:2},[g(c,{tag:"a",href:s.feedbackUrl,size:"small",type:"blue",target:"_blank",rel:"noopener noreferrer",onClick:t[4]||(t[4]=u=>s.processDismissNotification(!1))},{default:w(()=>[P(h(o.strings.giveFeedback),1)]),_:1},8,["href"]),g(c,{size:"small",type:"gray",onClick:t[5]||(t[5]=L(u=>s.processDismissNotification(!1),["stop","prevent"]))},{default:w(()=>[P(h(o.strings.noThanks),1)]),_:1})],64)):y("",!0),n.notification.dismissed?y("",!0):(d(),m("a",{key:3,class:"dismiss",href:"#",onClick:t[6]||(t[6]=L(u=>s.processDismissNotification(!1),["stop","prevent"]))},h(o.strings.dismiss),1))])])])]),_:1},8,["active"])}const er=M(Ys,[["render",Qs]]),R="aioseo-broken-link-checker",tr={emits:["dismissed-notification"],setup(){return{notificationsStore:ce()}},components:{BaseButton:be,SvgCircleCheck:Ie,TransitionSlide:ue},props:{notification:{type:Object,required:!0}},data(){return{active:!0,strings:{dismiss:p("Dismiss",R),yesILoveIt:p("Yes, I love it!",R),notReally:p("Not Really...",R),okYouDeserveIt:p("Ok, you deserve it",R),nopeMaybeLater:p("Nope, maybe later",R),giveFeedback:p("Give feedback",R),noThanks:p("No thanks",R)}}},computed:{title(){return F(p("Are you enjoying %1$s?",R),"BLC")},content(){return F(p("Hey, we noticed you have been using %1$s for some time - thats awesome! Could you please do us a BIG favor and give it a 5-star rating on WordPress to help us spread the word and boost our motivation?",R),"<strong>Broken Link Checker</strong>")}},methods:{processDismissNotification(e=!1){this.active=!1,this.notificationsStore.dismissNotifications([this.notification.slug+(e?"-delay":"")]),this.$emit("dismissed-notification")}}},nr={class:"icon"},ir={class:"body"},or={class:"title"},sr=["innerHTML"],rr={class:"actions"};function ar(e,t,n,i,o,s){const a=_("svg-circle-check"),c=_("base-button"),r=_("transition-slide");return d(),O(r,{class:"aioseo-notification",active:o.active},{default:w(()=>[l("div",null,[l("div",nr,[g(a,{class:"success"})]),l("div",ir,[l("div",or,[l("div",null,h(s.title),1)]),l("div",{class:"notification-content",innerHTML:s.content},null,8,sr),l("div",rr,[g(c,{tag:"a",href:"https://wordpress.org/support/plugin/all-in-one-seo-pack/reviews/?filter=5#new-post",size:"small",type:"blue",target:"_blank",rel:"noopener noreferrer",onClick:t[0]||(t[0]=u=>s.processDismissNotification(!1))},{default:w(()=>[P(h(o.strings.okYouDeserveIt),1)]),_:1}),g(c,{size:"small",type:"gray",onClick:t[1]||(t[1]=L(u=>s.processDismissNotification(!0),["stop","prevent"]))},{default:w(()=>[P(h(o.strings.nopeMaybeLater),1)]),_:1}),n.notification.dismissed?y("",!0):(d(),m("a",{key:0,class:"dismiss",href:"#",onClick:t[2]||(t[2]=L(u=>s.processDismissNotification(!1),["stop","prevent"]))},h(o.strings.dismiss),1))])])])]),_:1},8,["active"])}const cr=M(tr,[["render",ar]]),lr={class:"icon"},ur={class:"body"},dr={class:"title"},fr=["innerHTML"],pr={class:"actions"},mr={__name:"UnlicensedAddons",props:{notification:{type:Object,required:!0}},setup(e){const t="aioseo-broken-link-checker",n=e,i=E(),o=N(!0),s={title:F(p("%1$s Addons Not Configured Properly",t),"BLC"),learnMore:p("Learn More",t),upgrade:p("Upgrade",t)},a=T(()=>{let c="<ul>";return n.notification.addons.forEach(r=>{c+="<li><strong>BLC - "+r.name+"</strong></li>"}),c+="</ul>",n.notification.message+c});return(c,r)=>{const u=_("base-button");return d(),O(te(ue),{class:"aioseo-notification",active:o.value},{default:w(()=>[l("div",null,[l("div",lr,[g(te(pt),{class:"error"})]),l("div",ur,[l("div",dr,[l("div",null,h(s.title),1)]),l("div",{class:"notification-content",innerHTML:a.value},null,8,fr),l("div",pr,[g(u,{size:"small",type:"green",tag:"a",href:te(Q).getUpsellUrl("notification-unlicensed-addons",null,te(i).isPro?"pricing":"liteUpgrade"),target:"_blank"},{default:w(()=>[P(h(s.upgrade),1)]),_:1},8,["href"])])])])]),_:1},8,["active"])}}},Ne="aioseo-broken-link-checker",hr={emits:["toggle-dismissed","dismissed-notification"],components:{CoreNotification:js,NotificationsReview:er,NotificationsReview2:cr,NotificationsUnlicensedAddons:mr},props:{dismissedCount:{type:Number,required:!0},notifications:{type:Array,required:!0}},data(){return{dannieDetectiveImg:xs,strings:{greatScott:p("Great Scott! Where'd they all go?",Ne),noNewNotifications:p("You have no new notifications.",Ne),seeDismissed:p("See Dismissed Notifications",Ne)}}},methods:{getAssetUrl:ui}},vr={class:"aioseo-notification-cards"},gr={key:"no-notifications"},br={class:"no-notifications"},_r=["src"],yr={class:"great-scott"},wr={class:"no-new-notifications"};function Sr(e,t,n,i,o,s){return d(),m("div",vr,[n.notifications.length?(d(!0),m(U,{key:0},ie(n.notifications,a=>(d(),O(xe(a.component?a.component:"core-notification"),{key:a.slug,notification:a,ref_for:!0,ref:"notification",onDismissedNotification:t[0]||(t[0]=c=>e.$emit("dismissed-notification"))},null,40,["notification"]))),128)):y("",!0),n.notifications.length?y("",!0):(d(),m("div",gr,[x(e.$slots,"no-notifications",{},()=>[l("div",br,[l("img",{alt:"Dannie the Detective",src:s.getAssetUrl(o.dannieDetectiveImg)},null,8,_r),l("div",yr,h(o.strings.greatScott),1),l("div",wr,h(o.strings.noNewNotifications),1),n.dismissedCount?(d(),m("a",{key:0,href:"#",class:"dismiss",onClick:t[1]||(t[1]=L(a=>e.$emit("toggle-dismissed"),["stop","prevent"]))},h(o.strings.seeDismissed),1)):y("",!0)])])]))])}const kr=M(hr,[["render",Sr]]),ft="aioseo-broken-link-checker",Cr={setup(){const{dismissed:e,notificationTitle:t,notifications:n,notificationsCount:i,strings:o}=Es();return{composableStrings:o,dismissed:e,notificationsStore:ce(),notificationTitle:t,notifications:n,notificationsCount:i}},components:{CoreNotificationCards:kr,SvgClose:kt},data(){return{maxNotifications:Number.MAX_SAFE_INTEGER,currentPage:0,totalPages:1,strings:li(this.composableStrings,{dismissedNotifications:p("Dismissed Notifications",ft),dismissAll:p("Dismiss All",ft)})}},watch:{"notificationsStore.showNotifications"(e){e?(this.currentPage=0,this.setMaxNotifications(),this.addBodyClass()):this.removeBodyClass()},dismissed(){this.setMaxNotifications()},notifications(){this.setMaxNotifications()}},computed:{filteredNotifications(){return[...this.notifications].splice(this.currentPage===0?0:this.currentPage*this.maxNotifications,this.maxNotifications)},pages(){if(typeof this.totalPages!="number"||!isFinite(this.totalPages)||0>=this.totalPages)return 1;const e=[];for(let t=0;t<this.totalPages;t++)e.push({number:t+1});return e}},methods:{escapeListener(e){e.key==="Escape"&&this.notificationsStore.showNotifications&&this.notificationsStore.toggleNotifications()},addBodyClass(){document.body.classList.add("aioseo-show-notifications")},removeBodyClass(){document.body.classList.remove("aioseo-show-notifications")},documentClick(e){if(!this.notificationsStore.showNotifications)return;const t=e&&e.target?e.target:null,n=document.querySelector("#wp-admin-bar-aioseo-notifications");if(n&&(n===t||n.contains(t)))return;const i=document.querySelector("#toplevel_page_aioseo .wp-first-item"),o=document.querySelector("#toplevel_page_aioseo .wp-first-item .aioseo-menu-notification-indicator");if(i&&i.contains(o)&&(i===t||i.contains(t)))return;const s=this.$refs["aioseo-notifications"];s&&(s===t||s.contains(t))||this.notificationsStore.toggleNotifications()},notificationsLinkClick(e){e.preventDefault(),this.notificationsStore.toggleNotifications()},processDismissAllNotifications(){const e=[];this.notifications.forEach(t=>{e.push(t.slug)}),this.notificationsStore.dismissNotifications(e).then(()=>{this.setMaxNotifications()})},setMaxNotifications(){const e=this.currentPage;this.currentPage=0,this.totalPages=1,this.maxNotifications=Number.MAX_SAFE_INTEGER,this.$nextTick(async()=>{const n=Array.from(document.querySelectorAll(".notification-menu .aioseo-notification")).map(o=>{const s=window.getComputedStyle?getComputedStyle(o,null):o.currentStyle,a=parseInt(s.marginTop)||0,c=parseInt(s.marginBottom)||0;return o.offsetHeight+a+c}),i=document.querySelector(".notification-menu .aioseo-notification-cards");if(i&&0<n.length){let o=0,s=0;for(const a of n){if(s+=a,s>i.offsetHeight)break;o++}this.maxNotifications=o||1,isFinite(o)&&0<o&&(this.totalPages=Math.ceil(n.length/o))}this.currentPage=e>this.totalPages-1?this.totalPages-1:e})}},mounted(){document.addEventListener("keydown",this.escapeListener),document.addEventListener("mousedown",this.documentClick);const e=document.querySelector("#wp-admin-bar-aioseo-notifications .ab-item");e&&e.addEventListener("mousedown",this.notificationsLinkClick);const t=document.querySelector("#toplevel_page_aioseo .wp-first-item"),n=document.querySelector("#toplevel_page_aioseo .wp-first-item .aioseo-menu-notification-indicator");t&&n&&t.addEventListener("mousedown",this.notificationsLinkClick)}},Nr={class:"aioseo-notifications",ref:"aioseo-notifications"},$r={key:0,class:"notification-menu"},Tr={class:"notification-header"},Lr={class:"new-notifications"},Pr={class:"dismissed-notifications"},Or={key:0,class:"notification-footer"},Mr={class:"pagination"},Ar=["onClick"],Br={key:0,class:"dismiss-all"};function Dr(e,t,n,i,o,s){const a=_("svg-close"),c=_("core-notification-cards");return d(),m("div",Nr,[g(X,{name:"notifications-slide"},{default:w(()=>[i.notificationsStore.showNotifications?(d(),m("div",$r,[l("div",Tr,[l("span",Lr,"("+h(i.notificationsCount)+") "+h(i.notificationTitle),1),l("div",Pr,[!i.dismissed&&i.notificationsStore.dismissedNotificationsCount?(d(),m("a",{key:0,href:"#",onClick:t[0]||(t[0]=L(r=>i.dismissed=!0,["stop","prevent"]))},h(o.strings.dismissedNotifications),1)):y("",!0),i.dismissed&&i.notificationsStore.dismissedNotificationsCount?(d(),m("a",{key:1,href:"#",onClick:t[1]||(t[1]=L(r=>i.dismissed=!1,["stop","prevent"]))},h(o.strings.activeNotifications),1)):y("",!0)]),l("div",{onClick:t[2]||(t[2]=L((...r)=>i.notificationsStore.toggleNotifications&&i.notificationsStore.toggleNotifications(...r),["stop"]))},[g(a)])]),g(c,{class:"notification-cards",notifications:s.filteredNotifications,dismissedCount:i.notificationsStore.dismissedNotificationsCount,onToggleDismissed:t[3]||(t[3]=r=>i.dismissed=!i.dismissed)},null,8,["notifications","dismissedCount"]),o.totalPages>1||!i.dismissed&&i.notifications.length?(d(),m("div",Or,[l("div",Mr,[o.totalPages>1?(d(!0),m(U,{key:0},ie(s.pages,(r,u)=>(d(),m("div",{class:B(["page-number",{active:r.number===1+o.currentPage}]),key:u,onClick:L(f=>o.currentPage=r.number-1,["stop"])},h(r.number),11,Ar))),128)):y("",!0)]),i.dismissed?y("",!0):(d(),m("div",Br,[i.notifications.length?(d(),m("a",{key:0,href:"#",class:"dismiss",onClick:t[4]||(t[4]=L((...r)=>s.processDismissAllNotifications&&s.processDismissAllNotifications(...r),["stop","prevent"]))},h(o.strings.dismissAll),1)):y("",!0)]))])):y("",!0)])):y("",!0)]),_:1}),g(X,{name:"notifications-fade"},{default:w(()=>[i.notificationsStore.showNotifications?(d(),m("div",{key:0,onClick:t[5]||(t[5]=(...r)=>i.notificationsStore.toggleNotifications&&i.notificationsStore.toggleNotifications(...r)),class:"overlay"})):y("",!0)]),_:1})],512)}const Er=M(Cr,[["render",Dr]]),xr="aioseo-broken-link-checker",Ir={setup(){const{processSaveChanges:e}=Ct();return{allowed:nn,notificationsStore:ce(),rootStore:ge(),processSaveChanges:e}},components:{BaseButton:be,CoreHeader:Ji,CoreMainTabs:Ds,CoreNotifications:Er,GridContainer:Mt},props:{showTabs:{type:Boolean,default(){return!0}},showSaveButton:{type:Boolean,default(){return!0}},excludeTabs:{type:Array,default(){return[]}}},data(){return{tabsKey:0,strings:{saveChanges:p("Save Changes",xr)}}},watch:{excludeTabs(){this.tabsKey+=1}},computed:{tabs(){return this.$router.options.routes.filter(e=>e.name&&e.meta&&e.meta.name).filter(e=>this.allowed(e.meta.access)).filter(e=>!this.excludeTabs.includes(e.name)).map(e=>({slug:e.name,name:e.meta.name,url:{name:e.name},access:e.meta.access}))},shouldShowSaveButton(){var e;if((e=this.$route)!=null&&e.name){const t=this.$router.options.routes.find(n=>n.name===this.$route.name);if(t&&t.meta&&t.meta.hideSaveButton)return!1}return this.showSaveButton}},mounted(){En().notifications&&(this.notificationsStore.showNotifications||(this.notificationsStore.showNotifications=!this.notificationsStore.showNotifications),setTimeout(()=>{xn("notifications")},500))}},zr={class:"aioseo-main"},Rr={key:1,class:"save-changes"};function Hr(e,t,n,i,o,s){const a=_("core-notifications"),c=_("core-header"),r=_("core-main-tabs"),u=_("base-button"),f=_("grid-container");return d(),m("div",null,[g(a),l("div",zr,[g(c),g(f,null,{default:w(()=>[n.showTabs?(d(),O(r,{key:o.tabsKey,tabs:s.tabs,showSaveButton:s.shouldShowSaveButton},null,8,["tabs","showSaveButton"])):y("",!0),g(X,{name:"route-fade",mode:"out-in"},{default:w(()=>[x(e.$slots,"default")]),_:3}),s.shouldShowSaveButton?(d(),m("div",Rr,[g(u,{type:"blue",size:"medium",loading:i.rootStore.loading,onClick:i.processSaveChanges},{default:w(()=>[P(h(o.strings.saveChanges),1)]),_:1},8,["loading","onClick"])])):y("",!0)]),_:3})])])}const oa=M(Ir,[["render",Hr]]);export{oa as C};
